{"ast":null,"code":"var _jsxFileName = \"C:\\\\Project\\\\ITshow\\\\dearpal\\\\frontend\\\\src\\\\pages\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport \"../styles/profile.css\";\nimport { jwtDecode } from \"jwt-decode\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar randomSeed = () => {\n  //랜덤시드로 랜덤 프로필 주기 \n  return Math.random().toString(36).substring(2, 10); //36진수로 변환 후 8글자 자르기 \n};\nfunction ProfileModal({\n  onClose\n}) {\n  _s();\n  const navigate = useNavigate();\n  const [seed, setSeed] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\"); // JWT 가져오기\n    if (token) {\n      try {\n        const decoded = jwtDecode(token);\n        setUserName(decoded.userName); // payload에서 userId 꺼내기\n        setSeed(decoded.profileSeed);\n      } catch (err) {\n        console.error(\"토큰 디코딩 실패:\", err);\n      }\n    }\n  }, []); //deps[] 처음 한 번만 실행\n\n  const user = {\n    name: userName || \"알 수 없음\",\n    profileImg: `https://api.dicebear.com/9.x/fun-emoji/svg?seed=${seed}`\n  };\n  function logout() {\n    localStorage.removeItem(\"token\");\n    alert(\"로그아웃 되었습니다.\");\n    setUserName(\"\"); // userId 상태도 초기화!\n    setSeed(\"\"); // 새 시드로 리셋해줘야 다음 로그인에 반영됨\n\n    navigate(\"/Login\");\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profileModal\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"closeBtn\",\n        children: \"\\u274C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: user.profileImg,\n        alt: \"\\uD504\\uB85C\\uD544\",\n        className: \"profileImg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"img/shuffle.png\",\n        onClick: () => setSeed(randomSeed()),\n        className: \"shuffleBtn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profileText\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"profileName\",\n          children: user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"logoutBtn\",\n        onClick: logout,\n        children: \" \\uB85C\\uADF8\\uC544\\uC6C3 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n_s(ProfileModal, \"Ms4n/W20FAYPaWShl6h1NGWxMpk=\", false, function () {\n  return [useNavigate];\n});\n_c = ProfileModal;\nexport default ProfileModal;\nvar _c;\n$RefreshReg$(_c, \"ProfileModal\");","map":{"version":3,"names":["React","useState","useEffect","jwtDecode","useNavigate","jsxDEV","_jsxDEV","randomSeed","Math","random","toString","substring","ProfileModal","onClose","_s","navigate","seed","setSeed","userName","setUserName","token","localStorage","getItem","decoded","profileSeed","err","console","error","user","name","profileImg","logout","removeItem","alert","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","_c","$RefreshReg$"],"sources":["C:/Project/ITshow/dearpal/frontend/src/pages/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\"; \r\nimport \"../styles/profile.css\";\r\nimport { jwtDecode } from \"jwt-decode\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nvar randomSeed = () => {  //랜덤시드로 랜덤 프로필 주기 \r\n    return Math.random().toString(36).substring(2, 10); //36진수로 변환 후 8글자 자르기 \r\n}\r\n\r\n\r\nfunction ProfileModal({ onClose }) {\r\n    \r\n    const navigate = useNavigate();\r\n\r\n    const [seed, setSeed] = useState(\"\");\r\n    const [userName, setUserName] = useState(\"\");\r\n\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem(\"token\");  // JWT 가져오기\r\n        if (token) {\r\n            try {\r\n                const decoded = jwtDecode(token);\r\n                setUserName(decoded.userName);  // payload에서 userId 꺼내기\r\n                setSeed(decoded.profileSeed);\r\n            } catch (err) {\r\n                console.error(\"토큰 디코딩 실패:\", err);\r\n            }\r\n        }\r\n    }, []); //deps[] 처음 한 번만 실행\r\n\r\n\r\n    const user = {\r\n        name: userName || \"알 수 없음\",\r\n        profileImg: `https://api.dicebear.com/9.x/fun-emoji/svg?seed=${seed}`,\r\n    };\r\n\r\n    function logout(){\r\n   \r\n\r\n        localStorage.removeItem(\"token\");\r\n        alert(\"로그아웃 되었습니다.\");\r\n\r\n        setUserName(\"\");       // userId 상태도 초기화!\r\n        setSeed(\"\"); // 새 시드로 리셋해줘야 다음 로그인에 반영됨\r\n\r\n        navigate(\"/Login\")\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n                <div className=\"profileModal\">\r\n\r\n                <button onClick={onClose} className=\"closeBtn\">❌</button>\r\n\r\n                <img src={user.profileImg} alt=\"프로필\" className=\"profileImg\" />\r\n                <img src=\"img/shuffle.png\" onClick={() => setSeed(randomSeed())} className=\"shuffleBtn\"></img>\r\n\r\n                <div className=\"profileText\">\r\n                    <h2 className=\"profileName\">{user.name}</h2>\r\n                </div>\r\n                \r\n                <button className=\"logoutBtn\" onClick={logout}> 로그아웃 </button>\r\n\r\n                </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileModal; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}